<?php
 namespace App\Http\Controllers; use App\Models\charges; use App\Http\Controllers\Controller; use App\Models\receipt_type; use Illuminate\Http\Request; class ChargesController extends Controller { public function index() { $types = receipt_type::all(); $charges = charges::all(); return view("\143\x68\141\x72\147\145\163\56\x63\150\141\x72\147\x65\x73", compact("\x74\171\160\145\x73", "\143\x68\141\162\147\145\163")); } public function create() { } public function store(Request $request) { $check = charges::where("\156\x61\x6d\145", $request->name)->count(); if ($check > 0) { return back()->with("\145\162\162\x6f\x72", "\x41\x6c\x72\145\x61\x64\171\40\103\162\x65\x61\x74\x65\x64"); } charges::create(array("\x6e\141\x6d\145" => $request->name, "\162\x61\164\145" => $request->rate, "\164\171\160\145\111\x44" => $request->typeID, "\x75\160\144\141\164\145\x64\x42\171" => auth()->user()->id)); return back()->with("\163\165\x63\143\x65\x73\x73", "\x43\150\141\x72\x67\x65\163\40\x43\162\x65\141\x74\145\144"); } public function show(charges $charges) { } public function edit(charges $charges) { } public function update(Request $request, $id) { $check = charges::where("\x6e\141\155\145", $request->name)->where("\x69\144", "\41\x3d", $id)->count(); if ($check > 0) { return back()->with("\x65\162\162\157\x72", "\101\x6c\x72\x65\141\144\x79\x20\x43\162\x65\141\164\145\x64"); } $charges = charges::find($id); $charges->update(array("\156\x61\155\145" => $request->name, "\x72\141\x74\x65" => $request->rate, "\164\x79\160\x65\x49\104" => $request->typeID, "\165\x70\x64\141\164\x65\144\102\x79" => auth()->user()->id)); return back()->with("\x73\x75\x63\x63\x65\163\163", "\x43\x68\x61\162\147\145\163\40\x55\160\x64\141\x74\x65\144"); } public function destroy(charges $charges) { } public function getcharges($id) { $charges = charges::find($id); return $charges; } }