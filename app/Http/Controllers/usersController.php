<?php
 namespace App\Http\Controllers; use App\Http\Controllers\Controller; use App\Models\User; use Illuminate\Http\Request; use Illuminate\Support\Facades\Hash; class usersController extends Controller { public function index() { if (auth()->user()->id != 1) { return to_route("\x72\145\143\145\151\x70\164\x2e\x69\x6e\144\145\x78")->with("\x65\162\x72\157\x72", "\116\x6f\x74\40\x61\x6c\154\157\167\x65\x64\40\164\157\x20\141\143\x63\x65\163\163\x20\x74\150\151\163\x20\160\141\x67\x65"); } $users = User::where("\x69\x64", "\41\x3d", 1)->get(); return view("\165\163\145\162\163\56\151\x6e\x64\145\170", compact("\165\x73\145\x72\x73")); } public function store(request $request) { $check = User::where("\156\141\155\145", $request->name)->orWhere("\x65\155\141\151\x6c", $request->email)->count(); if ($check > 0) { return back()->with("\145\162\x72\x6f\162", "\x55\163\145\162\x20\x41\154\162\x65\x61\x64\x79\x20\105\170\x69\x73\x74\x73"); } User::create(array("\x6e\141\x6d\145" => $request->name, "\x65\x6d\141\x69\x6c" => $request->email, "\x70\x61\x73\163\167\x6f\162\x64" => Hash::make($request->password), "\x72\157\154\x65" => 2)); return back()->with("\163\165\143\143\x65\x73\163", "\x55\163\x65\x72\40\103\x72\145\141\164\145\144"); } public function changePassword(request $request, $id) { $user = User::find($id); $user->update(array("\160\x61\163\163\x77\157\162\144" => Hash::make($request->password))); return back()->with("\x73\x75\x63\x63\145\163\x73", "\x50\x61\x73\163\167\157\162\144\40\x43\x68\141\x6e\x67\x65\144"); } }